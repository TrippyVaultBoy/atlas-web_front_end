<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>
        <script
            src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
            integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8="
            crossorigin="anonymous">
        </script>
        <script>
            function createFamilyTree() {
                $('<table>').append(
                    $('<thead>').append(
                        $('<tr>').append(
                            $('<th>').text('Firstname'),
                            $('<th>').text('Lastname')
                        )
                    ),
                    $('<tbody>')
                )
                .appendTo('body');
            }

            function addNewMember(firstName, lastName, position) {
                if (position === 'before') {
                    $('<tr>').append(
                        $('<td>').text(firstName),
                        $('<td>').text(lastName),
                        $('<td>').text('(x)')
                                .css({'background-color': 'orange'})
                                .on('click', function () {
                                    $(this).parent().remove();
                                })
                    ).prependTo('table tbody');
                } else {
                    $('<tr>').append(
                        $('<td>').text(firstName),
                        $('<td>').text(lastName),
                        $('<td>').text('(x)')
                                .css({'background-color': 'orange'})
                                .on('click', function () {
                                    $(this).parent().remove();
                                })
                    ).appendTo('table tbody'); 
                }
            }

            function createForm() {
                $('table').prepend(
                    $('<input type="text" id="firstName">'),
                    $('<input type="text" id="lastName">'),
                    $('<select id="position">').append(
                        $('<option value="before">').text('before'),
                        $('<option value="after">').text('after'),
                    ),
                    $('<input type="submit">')
                        .text('Submit')
                        .on('click', function () {
                            const firstName = $('#firstName').val();
                            const lastName = $('#lastName').val();
                            const position = $('#position').val();

                            addNewMember(firstName, lastName, position)
                        })
                ) 
            }
            
            $(document).ready(function () {
                createFamilyTree();
                createForm();
            });
        </script>

    </head>

    <body>
        <!-- <table>
            <tr>
                <th>FirstName</th>
                <th>Lastname</th>
            </tr>
            <tr>
                <td>Guillaume</td>
                <td>Salva</td>
            </tr>
            <tr>
                <td>Paulette</td>
                <td>Salva</td>
            </tr>
            <tr>
                <td>Antoine</td>
                <td>Salva</td>
            </tr>
        </table> -->
    </body>

</html>